class Mood
  class << self
    def initialize
      Wordnik.configure do |config|
        config.api_key = "360d23ce142c0915ee00404ba6008765acc8dd77cd5e288e2"
        config.response_format = 'json'
      end
    end

    def string_preprocess string
      string.downcase.gsub(/(\W|\d)/, " ").split.keep_if  {|word| word[/\w{3,}/i] }
    end

    def synonyms string
      initialize
      string_preprocess(string).collect do |word|
        results = Wordnik.word.get_related(word, :type => 'synonym')
        results.flatten.first["words"] if !results.empty?
      end.compact.flatten.uniq.delete_if {|x| x[/ /]}
    end

    def positive? string, opts = {accurate: false}
      positive_count, negative_count = 0,0
      positive_word_array = ["absolutely", "absorbing", "abundance", "ace", "active", "admirable", "adore", "agree", "alert", "alive", "amazing", "appealing", "approval", "aroma", "attraction", "award", "bargain", "beaming", "beats", "beautiful", "best", "better", "bits", "boost", "bounce", "breakthrough", "breezy", "brief", "bright", "brilliant", "brimming", "buy", "care", "certain", "charming", "chic", "choice", "clean", "clear", "colourful", "comfy", "compliment", "confidence", "connoisseur", "cool", "courteous", "coy", "creamy", "crisp", "cuddly", "dazzling", "debonair", "delicate", "delicious", "delightful", "deluxe", "dependable", "desire", "diamond", "difference", "dimple", "discerning", "distinctive", "divine", "dreamy", "drool", "dynamic", "easy", "economy", "ecstatic", "effervescent", "efficient", "endless", "energy", "enhance", "enjoy", "enormous", "ensure", "enticing", "essence", "essential", "exactly", "excellent", "exceptional", "exciting", "exclusive", "exhilaration", "exotic", "expert", "exquisite", "extol", "extra", "eye-catching", "fabled", "fair", "famous", "fantastic", "fashionable", "fascinating", "fab", "fast", "favourite", "fetching", "finest", "finesse", "first", "fizz", "flair", "flattering", "flip", "flourishing", "foolproof", "forever", "fragrance", "free", "freshness", "friendly", "full", "fun", "galore", "generous", "genius", "gentle", "giggle", "glamorous", "glitter", "glorious", "glowing", "go-ahead", "golden", "goodness", "gorgeous", "graceful", "grand", "great", "guaranteed", "happy", "healthy", "heartwarming", "heavenly", "ideal", "immaculate", "impressive", "incredible", "inspire", "instant", "interesting", "invigorating", "invincible", "inviting", "irresistible", "jewel", "joy", "juicy", "keenest", "kind", "kissable", "know-how", "leads", "legend", "leisure", "light", "lingering", "logical", "longest", "lovely", "lucky", "luscious", "luxurious", "magic", "matchless", "maxi", "memorable", "mighty", "miracle", "modern", "more", "mouthwatering", "multi", "munchy", "natural", "need", "new", "nice", "nutritious", "opulent", "outlasts", "outrageous", "outstanding", "palate", "palatial", "paradise", "pamper", "passionate", "peak", "pearl", "perfect", "pick-me-up", "pleasure", "pleases", "plenty", "plum", "plump", "plus", "popular", "positive", "power", "precious", "prefer", "prestige", "priceless", "pride", "prime", "prize", "protection", "proud", "pure", "quality", "quantity", "quenching", "quick", "quiet", "radiant", "ravishing", "real", "reap", "recommendation", "refined", "refreshing", "relax", "reliable", "renowned", "reputation", "rest", "rewarding", "rich", "right", "rosy", "royal", "safety", "save", "satisfaction", "scores", "seductive", "select", "sensitive", "sensational", "serene", "service", "sexy", "shapely", "share", "sheer", "shy", "silent", "silver", "simple", "singular", "sizzling", "skilful", "slick", "smashing", "smiles", "solar", "smooth", "soft", "sound", "sparkling", "special", "spectacular", "speed", "spicy", "splendid", "spice", "spotless", "spruce", "star", "strong", "stunning", "stylish", "subtle", "success", "succulent", "sun", "superb", "superlative", "supersonic", "supreme", "sure", "sweet", "swell", "symphony", "tan", "tangy", "tasty", "tempting", "terrific", "thoroughbred", "thrilling", "thriving", "timeless", "tingle", "tiny", "top", "totally", "traditional", "transformation", "treat", "treasure", "trendy", "true", "trust", "ultimate", "ultra", "unbeatable", "unblemished", "undeniably", "undoubtedly", "unique", "unquestionnably", "unrivalled", "unsurpassed", "valued", "valuable", "vanish", "varied", "versatile", "victor", "vigorous", "vintage", "vital", "vivacious", "warm", "wealth", "wee", "whiz", "whole", "whopper", "winner", "wise", "wonderful", "worthy", "wow!", "youthful", "yule", "young", "zap", "zeal", "zest", "zip", "zoom", "101", "1990s", "mmmm", "sshhhh!"]
      negative_word_array = ["sucks", "emotional", "negative", "abandoned", "abused", "accused", "addicted", "afraid", "aggravated", "aggressive", "alone", "angry", "anguish", "annoyed", "anxious", "apprehensive", "argumentative", "artificial", "ashamed", "assaulted", "atrocious", "attacked", "avoided", "awful", "awkward", "bad", "badgered", "baffled", "banned", "barren", "beat", "belittled", "berated", "betrayed", "bitter", "bizzare", "blacklisted", "blackmailed", "blamed", "bleak", "blur", "bored", "boring", "bossed-around", "bothered", "bothersome", "bounded", "boxed-in", "broken", "bruised", "brushed-off", "bugged", "bullied", "bummed", "burdened", "burdensome", "burned", "burned-out", "careless", "chaotic", "chased", "cheated", "chicken", "claustrophobic", "clingy", "closed", "clueless", "clumsy", "coaxed", "codependent", "coerced", "cold", "cold-hearted", "combative", "commanded", "compared", "competitive", "compulsive", "conceited", "concerned", "confined", "conflicted", "confronted", "confused", "conned", "consumed", "contemplative", "contempt", "contentious", "controlled", "convicted", "cornered", "corralled", "cowardly", "crabby", "cramped", "cranky", "crap", "crappy", "crazy", "creepy", "critical", "criticized", "cross", "crowded", "cruddy", "crummy", "crushed", "cut-down", "cut-off", "cynical", "damaged", "damned", "dangerous", "dark", "dazed", "dead", "deceived", "deep", "defamed", "defeated", "defective", "defenseless", "defensive", "defiant", "deficient", "deflated", "degraded", "dehumanized", "dejected", "delicate", "deluded", "demanding", "demeaned", "demented", "demoralized", "demotivated", "dependent", "depleted", "depraved", "depressed", "deprived", "deserted", "desolate", "despair", "despairing", "desperate", "despicable", "despised", "destroyed", "destructive", "detached", "detest", "detestable", "detested", "devalued", "devastated", "deviant", "devoid", "diagnosed", "different", "difficult", "directionless", "dirty", "disabled", "disagreeable", "disappointed", "disappointing", "disbelieved", "discardable", "discarded", "disconnected", "discontent", "discouraged", "discriminated", "disdain", "disdainful", "disempowered", "disenchanted", "disgraced", "disgruntled", "disgust", "disgusted", "disheartened", "dishonest", "dishonorable", "disillusioned", "dislike", "disliked", "dismal", "dismayed", "disorganized", "disoriented", "disowned", "displeased", "disposable", "disregarded", "disrespected", "dissatisfied", "distant", "distracted", "distraught", "distressed", "disturbed", "dizzy", "dominated", "doomed", "double-crossed", "doubted", "doubtful", "down", "downhearted", "downtrodden", "drained", "dramatic", "dread", "dreadful", "dreary", "dropped", "drunk", "dry", "dumb", "dumped", "duped", "edgy", "egocentric", "egotistic", "egotistical", "elusive", "emancipated", "emasculated", "embarrassed", "emotional", "emotionless", "empty", "encumbered", "endangered", "enraged", "enslaved", "entangled", "evaded", "evasive", "evicted", "excessive", "excluded", "exhausted", "exploited", "exposed", "fake", "false", "fear", "fearful", "flawed", "forced", "forgetful", "forgettable", "forgotten", "fragile", "frightened", "frigid", "frustrated", "furious", "gloomy", "glum", "gothic", "grey", "grief", "grim", "gross", "grossed-out", "grotesque", "grouchy", "grounded", "grumpy", "guilt-tripped", "guilty", "harassed", "hard", "hard-hearted", "harmed", "hassled", "hate", "hateful", "hatred", "haunted", "heartbroken", "heartless", "heavy-hearted", "helpless", "hesitant", "hideous", "hindered", "hopeless", "horrible", "horrified", "horror", "hostile", "hot-tempered", "humiliated", "hurried", "hurt", "hysterical", "idiotic", "ignorant", "ignored", "ill", "ill-tempered", "imbalanced", "imposed-upon", "impotent", "imprisoned", "impulsive", "inactive", "inadequate", "incapable", "incommunicative", "incompetent", "incompatible", "incomplete", "incorrect", "indecisive", "indifferent", "indoctrinated", "inebriated", "ineffective", "inefficient", "inferior", "infuriated", "inhibited", "inhumane", "injured", "injusticed", "insane", "insecure", "insignificant", "insincere", "insufficient", "insulted", "intense", "interrogated", "interrupted", "intimidated", "intoxicated", "invalidated", "invisible", "irrational", "irritable", "irritated", "isolated", "jaded", "jealous", "joyless", "judged", "labeled", "laughable", "lazy", "limited", "little", "lonely", "lonesome", "longing", "lost", "lousy", "loveless", "low", "mad", "manipulated", "masochistic", "messy", "miffed", "miserable", "misled", "mistaken", "mistreated", "mistrusted", "misunderstood", "mixed-up", "mocked", "molested", "moody", "nagged", "needy", "negative", "nervous", "neurotic", "nonconforming", "numb", "nuts", "nutty", "objectified", "obligated", "obsessed", "obsessive", "obstructed", "odd", "offended", "opposed", "oppressed", "over-controlled", "over-protected", "overwhelmed", "pain", "panic", "paranoid", "passive", "pathetic", "pessimistic", "petrified", "phony", "pissed", "plain", "pooped", "poor", "powerless", "pre-judged", "preoccupied", "predjudiced", "pressured", "prosecuted", "provoked", "psychopathic", "psychotic", "punished", "pushed", "puzzled", "quarrelsome", "queer", "questioned", "quiet", "rage", "raped", "rattled", "regret", "rejected", "resented", "resentful", "responsible", "retarded", "revengeful", "ridiculed", "ridiculous", "robbed", "rotten", "sad", "sadistic", "sarcastic", "scared", "scarred", "screwed", "self-centered", "self-conscious", "self-destructive", "self-hatred", "selfish", "sensitive", "shy", "singled-out", "slow", "small", "smothered", "spiteful", "stereotyped", "strange", "stressed", "stretched", "stuck", "stupid", "submissive", "suffering", "suffocated", "suicidal", "superficial", "suppressed", "suspicious"]

      string_array = opts[:accurate] ? string_preprocess(string) + synonyms(string) : string_preprocess(string)
      string_array.collect do |word|
        positive_count += 1 if positive_word_array.include?(word)
        negative_count += 1 if negative_word_array.include?(word)
      end

      if positive_count == negative_count
        nil
      elsif positive_count > negative_count
        true
      else
        false
      end
    end
  end
end
